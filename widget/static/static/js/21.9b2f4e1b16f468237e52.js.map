{"version":3,"sources":["webpack:///src/page/home/child/shardDetail.vue","webpack:///./src/page/home/child/shardDetail.vue?0d2a","webpack:///./src/page/home/child/shardDetail.vue"],"names":["shardDetail","components","loadinganite","loading_animate","replyList","replay_list","replyEditBox","reply_edit_box","created","this","shareId","$route","query","id","beforeRouteEnter","to","from","next","vm","getDetil","data","loading","isReplayChild","shardData","undefined","replyCont","showReplyBox","tearPlaTxt","cacheObj","cIndex","pIndex","methods","onClickLeft","$router","go","likeClick","index","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","commentId","praseUserId","wrap","_context","prev","parse","abrupt","praseCount","userId","$apihelper","parseLikeReplay","type","sent","stop","showMoreReplay","push","name","_this2","_callee2","ret","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","v","_context2","getShardDetail","d","share","createTime","$utils","dateFromat","shareImg","split","get_iterator_default","replies","done","value","replyTime","t0","return","finish","previewImage","imgs","imagePreview","textareaBlur","hidereplyBox","replyChildBtn","obj","item","userName","replyUserId","replyId","removeReply","splice","sumbitReplay","_this3","_callee3","_ret","pReplies","cReplies","_ret2","_context3","content","shareReplyArticleChild","console","log","replyCount","length","repltUserName","$store","state","user","userInfo","shareReplyArticle","userAvatar","deleteMyShrea","_ref","_this4","$dialog","alert","message","showCancelButton","callback","_callee4","msg","_context4","delectShare","replace","params","reload","_x","apply","arguments","handlerClick","_this5","replyBtn","computed","isMe","shareUserId","onUnload","assign_default","$data","$options","child_shardDetail","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","title","left-text","left-arrow","on","click-left","directives","rawName","expression","slot","click","_v","src","shareUserAvatar","_s","shareUserName","shareContent","_l","imgsrc","key","$event","stopPropagation","staticStyle","font-size","_m","shareReplyCount","shareTransmitCount","reItem","btnClick","_e","on-submit","model","$$v","enter-active-class","leave-active-class","z-index","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.9b2f4e1b16f468237e52.js","sourcesContent":["<template>\r\n  <div id=\"shard-detail\">\r\n    <van-nav-bar title=\"详情页\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\" class=\"topNavBar\">\r\n      <span slot=\"right\" v-show=\"isMe\" class=\"iconfont icon-shanchu\" @click=\"deleteMyShrea\"></span>\r\n    </van-nav-bar>\r\n    <div class=\"wrap\" v-if=\"shardData\">\r\n      <div class=\"header\">\r\n        <div class=\"info\">\r\n          <img class=\"userava\" :src=\"shardData.shareUserAvatar\">\r\n          <div class=\"titles\">\r\n            <p class=\"username\">{{shardData.shareUserName}}</p>\r\n            <!--发布时间-->\r\n            <p class=\"time\">{{shardData.createTime}}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"conent\">\r\n        <p class=\"share-content\">{{shardData.shareContent}}</p>\r\n        <div class=\"imgs\" v-show=\"shardData.shareImg[0]\">\r\n          <img\r\n            class=\"img\"\r\n            :src=\"imgsrc\"\r\n            v-for=\"(imgsrc, index) in shardData.shareImg\"\r\n            :key=\"index\"\r\n            @click.stop=\"previewImage(shardData.shareImg, index)\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"action-list\">\r\n        <div class=\"edit\" @click=\"handlerClick('replyBtn')\">\r\n          <span class=\"iconfont icon-bianji\" style=\"font-size: 20px;\"></span>\r\n          <span>写评论</span>\r\n        </div>\r\n        <!-- <div class=\"action-item\">\r\n          <p class=\"iconfont iconfont icon-shoucang\"></p>\r\n          <p class=\"txt\">收藏</p>\r\n        </div>-->\r\n        <div class=\"action-item\">\r\n          <p class=\"iconfont icon-xihuancon\"></p>\r\n          <p class=\"txt\">1</p>\r\n        </div>\r\n        <div class=\"action-item\">\r\n          <p class=\"iconfont icon-pinglun\"></p>\r\n          <p class=\"txt\">{{shardData.shareReplyCount}}</p>\r\n        </div>\r\n        <div class=\"action-item\">\r\n          <p class=\"iconfont icon-zhuanfa\"></p>\r\n          <p class=\"txt\">{{shardData.shareTransmitCount}}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"replay-list\">\r\n        <h3 class=\"rep-w-h\">评论</h3>\r\n        <replyList\r\n          :reItem=\"item\"\r\n          @btnClick=\"replyChildBtn\"\r\n          :index=\"index\"\r\n          v-for=\"(item, index) in replyList\"\r\n          :key=\"index\"\r\n          @likeClick=\"likeClick\"\r\n          @removeReply=\"removeReply\"\r\n        ></replyList>\r\n        <p\r\n          class=\"more-replay\"\r\n          v-show=\"replyList.length && replyList.length >= 5\"\r\n          @click.stop=\"showMoreReplay\"\r\n        >查看更多评论</p>\r\n        <p class=\"no-more\" v-show=\"replyList.length && replyList.length < 5\">暂无更多评论</p>\r\n        <p class=\"no-more\" v-show=\"!replyList.length\">来做第一个沙发吧</p>\r\n      </div>\r\n      <!-- 评论列表 -->\r\n    </div>\r\n    <loadinganite v-if=\"loading\"></loadinganite>\r\n    <replyEditBox v-model=\"showReplyBox\" :tearPlaTxt=\"tearPlaTxt\" @on-submit=\"sumbitReplay\"></replyEditBox>\r\n    <transition\r\n      :enter-active-class=\"'animated zoomInRight'\"\r\n      :leave-active-class=\"'animated zoomOutLeft'\"\r\n    >\r\n      <router-view class=\"app-content\" style=\"z-index: 99\"></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n<script>\r\nimport loadinganite from \"./loading-animate.vue\";\r\nimport replyList from \"./replay-list.vue\";\r\nimport replyEditBox from \"./reply-edit-box.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    loadinganite,\r\n    replyList,\r\n    replyEditBox\r\n  },\r\n  created() {\r\n    this.shareId = this.$route.query.id;\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      vm.getDetil();\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      isReplayChild: false, // 是否是二级评论\r\n      shardData: undefined,\r\n      shareId: \"\",\r\n      replyCont: \"\",\r\n      showReplyBox: false,\r\n      tearPlaTxt: \"发表评论\",\r\n      cacheObj: null, // 缓存一些东西\r\n      replyList: [],\r\n      cIndex: -1,\r\n      pIndex: -1\r\n    };\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 评论点赞\r\n    async likeClick(index) {\r\n      if (this.replyList[index].parse) return;\r\n      this.replyList[index].parse = true;\r\n      this.replyList[index].praseCount += 1;\r\n      let commentId = this.replyList[index].id,\r\n        praseUserId = this.replyList[index].userId;\r\n      let ret = await this.$apihelper.parseLikeReplay({\r\n        shareId: this.shareId,\r\n        praseUserId,\r\n        commentId,\r\n        type: \"A\"\r\n      });\r\n    },\r\n    // 查看更多评论\r\n    showMoreReplay() {\r\n      this.$router.push({\r\n        name: \"moreReplay\",\r\n        query: {\r\n          shareId: this.shareId\r\n        }\r\n      });\r\n    },\r\n    async getDetil() {\r\n      let ret = await this.$apihelper.getShardDetail(this.shareId);\r\n      if (!ret) return;\r\n      this.loading = false;\r\n      ret.d.share.createTime = this.$utils.dateFromat(ret.d.share.createTime);\r\n      ret.d.share.shareImg = ret.d.share.shareImg.split(\",\");\r\n      for (let v of ret.d.replies) {\r\n        v.replyTime = this.$utils.dateFromat(v.replyTime);\r\n      }\r\n      this.shardData = ret.d.share;\r\n      // 获取回复\r\n      this.replyList = ret.d.replies || [];\r\n    },\r\n    previewImage(imgs, index) {\r\n      this.$utils.imagePreview(imgs, index);\r\n    },\r\n    // 评论输入框失去焦点\r\n    textareaBlur() {\r\n      this.isReplayChild = false;\r\n      this.tearPlaTxt = \"发表评论\";\r\n    },\r\n    // 隐藏回复框\r\n    hidereplyBox() {\r\n      this.showReplyBox = false;\r\n      this.textareaBlur();\r\n    },\r\n    // 二级回复的按钮\r\n    replyChildBtn(obj) {\r\n      let { item, pIndex, cIndex } = obj;\r\n      this.cIndex = cIndex;\r\n      this.pIndex = pIndex;\r\n      this.isReplayChild = true;\r\n      this.tearPlaTxt = `回复${item.userName}`;\r\n      this.showReplyBox = true;\r\n      this.cacheObj = {\r\n        commentId: this.replyList[pIndex].id,\r\n        shareId: this.shareId,\r\n        replyUserId: item.userId,\r\n        replyId: item.id\r\n      };\r\n    },\r\n    removeReply(obj) {\r\n      let { cIndex, pIndex } = obj;\r\n      if (!~cIndex) {\r\n        // 删除一级回复\r\n        this.replyList.splice(pIndex, 1);\r\n      } else {\r\n        this.replyList[pIndex].replies.splice(cIndex, 1);\r\n      }\r\n    },\r\n    async sumbitReplay(replyCont) {\r\n      this.cacheObj.content = replyCont;\r\n      if (this.isReplayChild) {\r\n        // 二级评论\r\n        let ret = await this.$apihelper.shareReplyArticleChild(this.cacheObj);\r\n        console.log(\"回复二级评论\", ret);\r\n        // 如果回复的是二级回复的子回复\r\n        let pReplies = this.replyList[this.pIndex];\r\n        let cReplies = this.replyList[this.pIndex].replies;\r\n        pReplies.replyCount += 1;\r\n        if (cReplies && cReplies.length < 2) {\r\n          ret.d.repltUserName = this.replyList[this.pIndex].userName;\r\n          ret.d.replyTime = this.$utils.dateFromat(ret.d.replyTime);\r\n          ret.d.userName = this.$store.state.user.userInfo.userName;\r\n          cReplies.push(ret.d);\r\n        }\r\n        this.hidereplyBox();\r\n        // this.getDetil();\r\n      } else {\r\n        let ret = await this.$apihelper.shareReplyArticle(this.cacheObj);\r\n        console.log(\"回复楼主\", ret);\r\n        ret.d.replyTime = this.$utils.dateFromat(ret.d.replyTime);\r\n        ret.d.userAvatar = this.$store.state.user.userInfo.userAvatar;\r\n        ret.d.userName = this.$store.state.user.userInfo.userName;\r\n        ret.d.replyCount = 0;\r\n        ret.d.replies = [];\r\n        this.replyList.push(ret.d);\r\n        this.hidereplyBox();\r\n        // this.getDetil();\r\n      }\r\n    },\r\n    // 删除我的分享\r\n    deleteMyShrea() {\r\n      this.$dialog.alert({\r\n        message: \"确定删除吗\",\r\n        showCancelButton: true,\r\n        callback: async msg => {\r\n          if (msg === \"confirm\") {\r\n            // 确定删除\r\n            let ret = await this.$apihelper.delectShare(this.shardData.id);\r\n            if (!ret) return;\r\n            this.$router.replace({\r\n              name: \"home\",\r\n              params: {\r\n                reload: true\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handlerClick(type) {\r\n      return {\r\n        // 一级回复\r\n        replyBtn: () => {\r\n          this.showReplyBox = true;\r\n          this.cacheObj = {\r\n            shareId: this.shareId\r\n          };\r\n        }\r\n      }[type]();\r\n    }\r\n  },\r\n  computed: {\r\n    // 是否是我发布的分享\r\n    isMe() {\r\n      return (\r\n        this.shardData &&\r\n        this.shardData.shareUserId === this.$store.state.user.userId\r\n      );\r\n    }\r\n  },\r\n  onUnload() {\r\n    Object.assign(this.$data, this.$options.data());\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.animated {\r\n  animation-duration: 0.5s;\r\n}\r\n.icon-shanchu {\r\n  color: #d81e06;\r\n}\r\n#shard-detail {\r\n  position: relative;\r\n  padding: 46px 4px 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background: #fff;\r\n  .wrap {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow-y: auto;\r\n    padding: 6px 10px;\r\n    padding-bottom: 50px;\r\n    .header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .info {\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        .userava {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 50%;\r\n        }\r\n        .titles {\r\n          padding-left: 15px;\r\n          .username {\r\n            font-size: 16px;\r\n          }\r\n          .time {\r\n            font-size: 16px;\r\n            color: #bababa;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .conent {\r\n      .share-content {\r\n        font-size: 18px;\r\n        padding: 12px 0;\r\n      }\r\n      .imgs {\r\n        .img {\r\n          width: 100%;\r\n          border-radius: 20px;\r\n        }\r\n      }\r\n    }\r\n    .action-list {\r\n      position: fixed;\r\n      width: 100%;\r\n      height: 50px;\r\n      bottom: 0;\r\n      left: 0;\r\n      background: #fff;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      box-shadow: 0 8px 22px #000;\r\n      .action-item {\r\n        text-align: center;\r\n        flex: 1;\r\n      }\r\n      .edit {\r\n        text-align: center;\r\n        flex: 2;\r\n        margin-left: 12px;\r\n        background: #f1f3f6;\r\n        border-radius: 12px;\r\n        color: #8e8f91;\r\n      }\r\n      .iconfont {\r\n        font-size: 28px;\r\n        vertical-align: middle;\r\n        color: #7d7d7d;\r\n        height: 28px;\r\n      }\r\n      .txt {\r\n        font-size: 12px;\r\n        line-height: 28px;\r\n        vertical-align: middle;\r\n        color: #7d7d7d;\r\n      }\r\n    }\r\n    .replay-list {\r\n      .rep-w-h {\r\n        font-weight: 600;\r\n        font-size: 22px;\r\n        line-height: 60px;\r\n      }\r\n    }\r\n    .more-replay {\r\n      font-size: 16px;\r\n      padding: 12px 0;\r\n      text-align: center;\r\n      color: cornflowerblue;\r\n    }\r\n    .no-more {\r\n      font-size: 16px;\r\n      padding: 5px 0 20px;\r\n      line-height: 70px;\r\n      text-align: center;\r\n      color: #ccc;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/home/child/shardDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"shard-detail\"}},[_c('van-nav-bar',{staticClass:\"topNavBar\",attrs:{\"title\":\"详情页\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMe),expression:\"isMe\"}],staticClass:\"iconfont icon-shanchu\",attrs:{\"slot\":\"right\"},on:{\"click\":_vm.deleteMyShrea},slot:\"right\"})]),_vm._v(\" \"),(_vm.shardData)?_c('div',{staticClass:\"wrap\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"info\"},[_c('img',{staticClass:\"userava\",attrs:{\"src\":_vm.shardData.shareUserAvatar}}),_vm._v(\" \"),_c('div',{staticClass:\"titles\"},[_c('p',{staticClass:\"username\"},[_vm._v(_vm._s(_vm.shardData.shareUserName))]),_vm._v(\" \"),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.shardData.createTime))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"conent\"},[_c('p',{staticClass:\"share-content\"},[_vm._v(_vm._s(_vm.shardData.shareContent))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shardData.shareImg[0]),expression:\"shardData.shareImg[0]\"}],staticClass:\"imgs\"},_vm._l((_vm.shardData.shareImg),function(imgsrc,index){return _c('img',{key:index,staticClass:\"img\",attrs:{\"src\":imgsrc},on:{\"click\":function($event){$event.stopPropagation();return _vm.previewImage(_vm.shardData.shareImg, index)}}})}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"action-list\"},[_c('div',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.handlerClick('replyBtn')}}},[_c('span',{staticClass:\"iconfont icon-bianji\",staticStyle:{\"font-size\":\"20px\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"写评论\")])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"action-item\"},[_c('p',{staticClass:\"iconfont icon-pinglun\"}),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(_vm._s(_vm.shardData.shareReplyCount))])]),_vm._v(\" \"),_c('div',{staticClass:\"action-item\"},[_c('p',{staticClass:\"iconfont icon-zhuanfa\"}),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(_vm._s(_vm.shardData.shareTransmitCount))])])]),_vm._v(\" \"),_c('div',{staticClass:\"replay-list\"},[_c('h3',{staticClass:\"rep-w-h\"},[_vm._v(\"评论\")]),_vm._v(\" \"),_vm._l((_vm.replyList),function(item,index){return _c('replyList',{key:index,attrs:{\"reItem\":item,\"index\":index},on:{\"btnClick\":_vm.replyChildBtn,\"likeClick\":_vm.likeClick,\"removeReply\":_vm.removeReply}})}),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.replyList.length && _vm.replyList.length >= 5),expression:\"replyList.length && replyList.length >= 5\"}],staticClass:\"more-replay\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showMoreReplay($event)}}},[_vm._v(\"查看更多评论\")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.replyList.length && _vm.replyList.length < 5),expression:\"replyList.length && replyList.length < 5\"}],staticClass:\"no-more\"},[_vm._v(\"暂无更多评论\")]),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.replyList.length),expression:\"!replyList.length\"}],staticClass:\"no-more\"},[_vm._v(\"来做第一个沙发吧\")])],2)]):_vm._e(),_vm._v(\" \"),(_vm.loading)?_c('loadinganite'):_vm._e(),_vm._v(\" \"),_c('replyEditBox',{attrs:{\"tearPlaTxt\":_vm.tearPlaTxt},on:{\"on-submit\":_vm.sumbitReplay},model:{value:(_vm.showReplyBox),callback:function ($$v) {_vm.showReplyBox=$$v},expression:\"showReplyBox\"}}),_vm._v(\" \"),_c('transition',{attrs:{\"enter-active-class\":'animated zoomInRight',\"leave-active-class\":'animated zoomOutLeft'}},[_c('router-view',{staticClass:\"app-content\",staticStyle:{\"z-index\":\"99\"}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"action-item\"},[_c('p',{staticClass:\"iconfont icon-xihuancon\"}),_vm._v(\" \"),_c('p',{staticClass:\"txt\"},[_vm._v(\"1\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-16e22356\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/home/child/shardDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16e22356\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./shardDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./shardDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./shardDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16e22356\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./shardDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-16e22356\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/child/shardDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}