webpackJsonp([17],{bxKW:function(e,t){},suLQ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("HzJ8"),n=s.n(a),i=s("IHPB"),r=s.n(i),c=s("lC5x"),o=s.n(c),l=s("J0Oq"),u=s.n(l),h={data:function(){return{list:[],showActionsheetL:!1,loading:!1,isLoading:!1,finished:!1,page:0,pageSize:10,cacheCollectId:-1,actions:[{name:"取消收藏"}],caozuoIndex:-1}},methods:{previewImage:function(e,t){this.$utils.imagePreview(e,t)},onLoad:function(){this.getList(!1)},onRefresh:function(){this.getList()},caozuo:function(e,t){this.caozuoIndex=t,this.cacheCollectId=e,this.showActionsheetL=!0},onSelect:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apihelper.delectCollection({collectId:e.cacheCollectId});case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:e.list.splice(e.caozuoIndex,1),e.$toast.success("取消收藏成功"),e.showActionsheetL=!1;case 8:case"end":return t.stop()}},t,e)}))()},getList:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return u()(o.a.mark(function s(){var a,i,c,l,u,h,d,p,f,v;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return");case 3:if(i=s.sent,e.isLoading=!1,i){s.next=7;break}return s.abrupt("return");case 7:for(e.loading=!1,(c=i.d.collectList).length<e.pageSize&&(e.finished=!0),l=!0,u=!1,h=void 0,s.prev=13,d=n()(c);!(l=(p=d.next()).done);l=!0)f=p.value,v=[],f.shareImg&&(v=f.shareImg.split(",")),f.createTime=e.$utils.dateFromat(f.createTime),f.shareImg=v;s.next=21;break;case 17:s.prev=17,s.t0=s.catch(13),u=!0,h=s.t0;case 21:s.prev=21,s.prev=22,!l&&d.return&&d.return();case 24:if(s.prev=24,!u){s.next=27;break}throw h;case 27:return s.finish(24);case 28:return s.finish(21);case 29:t?e.list=c:(a=e.list).push.apply(a,r()(c));case 30:case"end":return s.stop()}},s,e,[[13,17,21,29],[22,,24,28]])}))()},gotoDetail:function(e){this.$router.push({path:"/home/shardDetail",query:{id:e}})}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"my-collection-wrap paddingTopNav"},[s("van-nav-bar",{staticClass:"topNavBar",attrs:{title:"动态","left-text":"返回","left-arrow":""},on:{"click-left":function(t){return e.$router.go(-1)}}}),e._v(" "),s("van-pull-refresh",{staticClass:"refreshBox",on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[s("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,function(t,a){return s("div",{key:a,staticClass:"list-item",on:{click:function(s){return e.gotoDetail(t.id)}}},[s("div",{staticClass:"header"},[s("div",{staticClass:"info"},[s("img",{staticClass:"userava",attrs:{src:t.shareUserAvatar}}),e._v(" "),s("div",{staticClass:"titles"},[s("p",{staticClass:"username"},[e._v(e._s(t.shareUserName))]),e._v(" "),s("p",{staticClass:"time"},[e._v(e._s(t.createTime))])])]),e._v(" "),s("div",{staticClass:"opt",on:{click:function(s){return s.stopPropagation(),e.caozuo(t.id,a)}}},[s("span",{staticClass:"iconfont icon-caozuo"})])]),e._v(" "),t.shareImg&&t.shareImg.length?s("div",{staticClass:"content"},[s("div",{staticClass:"imgs"},e._l(t.shareImg,function(a,n){return s("div",{key:n,class:["pic_item",{pic1:1==t.shareImg.length,pic3:t.shareImg.length>=3}]},[s("img",{staticClass:"pic",attrs:{mode:"aspectFill",src:a},on:{click:function(s){return s.stopPropagation(),e.previewImage(t.shareImg,n)}}})])}),0),e._v(" "),s("p",{staticClass:"shareContent"},[e._v(e._s(t.shareContent))])]):e._e()])}),0)],1),e._v(" "),s("van-actionsheet",{attrs:{actions:e.actions,"cancel-text":"取消"},on:{select:e.onSelect},model:{value:e.showActionsheetL,callback:function(t){e.showActionsheetL=t},expression:"showActionsheetL"}})],1)},staticRenderFns:[]};var p=s("C7Lr")(h,d,!1,function(e){s("bxKW")},"data-v-2b90fc2c",null);t.default=p.exports}});
//# sourceMappingURL=17.682bad35744bfe9c2fce.js.map