{"version":3,"sources":["webpack:///src/page/self/child/my-dynamic.vue","webpack:///./src/page/self/child/my-dynamic.vue?a0a5","webpack:///./src/page/self/child/my-dynamic.vue"],"names":["my_dynamic","data","list","showActionsheetL","loading","isLoading","finished","page","pageSize","cacheCollectId","actions","name","caozuoIndex","methods","previewImage","imgs","index","this","$utils","imagePreview","onLoad","getList","onRefresh","caozuo","id","onSelect","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$apihelper","delectCollection","collectId","sent","abrupt","splice","$toast","success","stop","_this2","isreload","arguments","length","undefined","_callee2","_list","ret","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","v","shareImg","_context2","d","collectList","get_iterator_default","done","value","split","createTime","dateFromat","t0","return","finish","push","apply","toConsumableArray_default","gotoDetail","$router","path","query","child_my_dynamic","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","left-text","left-arrow","on","click-left","$event","go","_v","refresh","model","callback","$$v","expression","finished-text","load","_l","item","key","click","src","shareUserAvatar","_s","shareUserName","stopPropagation","picItem","indx","class","pic1","pic3","mode","shareContent","_e","cancel-text","select","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.682bad35744bfe9c2fce.js","sourcesContent":["<template>\r\n  <div class=\"my-collection-wrap paddingTopNav\">\r\n    <van-nav-bar\r\n      title=\"动态\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"$router.go(-1)\"\r\n      class=\"topNavBar\"\r\n    />\r\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\" class=\"refreshBox\">\r\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\r\n        <div\r\n          class=\"list-item\"\r\n          @click=\"gotoDetail(item.id)\"\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"header\">\r\n            <div class=\"info\">\r\n              <img class=\"userava\" :src=\"item.shareUserAvatar\">\r\n              <div class=\"titles\">\r\n                <p class=\"username\">{{item.shareUserName}}</p>\r\n                <!--发布时间-->\r\n                <p class=\"time\">{{item.createTime}}</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"opt\" @click.stop=\"caozuo(item.id, index)\">\r\n              <span class=\"iconfont icon-caozuo\"></span>\r\n            </div>\r\n          </div>\r\n          <div class=\"content\" v-if=\"item.shareImg && item.shareImg.length\">\r\n            <div class=\"imgs\">\r\n              <div\r\n                :class=\"['pic_item',{pic1: item.shareImg.length == 1, pic3: item.shareImg.length >= 3}]\"\r\n                v-for=\"(picItem, indx) in item.shareImg\"\r\n                :key=\"indx\"\r\n              >\r\n                <img\r\n                  class=\"pic\"\r\n                  mode=\"aspectFill\"\r\n                  :src=\"picItem\"\r\n                  @click.stop=\"previewImage(item.shareImg, indx)\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <p class=\"shareContent\">{{item.shareContent}}</p>\r\n          </div>\r\n        </div>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n    <van-actionsheet\r\n      v-model=\"showActionsheetL\"\r\n      :actions=\"actions\"\r\n      @select=\"onSelect\"\r\n      cancel-text=\"取消\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],\r\n      showActionsheetL: false,\r\n      loading: false,\r\n      isLoading: false,\r\n      finished: false,\r\n      page: 0,\r\n      pageSize: 10,\r\n      cacheCollectId: -1,\r\n      actions: [\r\n        {\r\n          name: \"取消收藏\"\r\n        }\r\n      ],\r\n      caozuoIndex: -1 // 操作的数组索引\r\n    };\r\n  },\r\n  methods: {\r\n    // 预览图片\r\n    previewImage(imgs, index) {\r\n      this.$utils.imagePreview(imgs, index);\r\n    },\r\n    onLoad() {\r\n      this.getList(false);\r\n    },\r\n    onRefresh() {\r\n      this.getList();\r\n    },\r\n    caozuo(id, index) {\r\n      this.caozuoIndex = index;\r\n      this.cacheCollectId = id;\r\n      this.showActionsheetL = true;\r\n    },\r\n    // 取消收藏\r\n    async onSelect() {\r\n      let ret = await this.$apihelper.delectCollection({\r\n        collectId: this.cacheCollectId\r\n      });\r\n      if (!ret) return;\r\n      this.list.splice(this.caozuoIndex, 1);\r\n      this.$toast.success(\"取消收藏成功\");\r\n      this.showActionsheetL = false;\r\n    },\r\n    async getList(isreload = true) {\r\n      return\r\n      let ret = await this.$apihelper.getCollectionList({\r\n        page: this.page,\r\n        pageSize: this.pageSize\r\n      });\r\n      this.isLoading = false;\r\n      if (!ret) return;\r\n      this.loading = false;\r\n      let data = ret.d.collectList;\r\n      if (data.length < this.pageSize) this.finished = true;\r\n      for (let v of data) {\r\n        let shareImg = [];\r\n        if (v.shareImg) {\r\n          shareImg = v.shareImg.split(\",\");\r\n        }\r\n        v.createTime = this.$utils.dateFromat(v.createTime);\r\n        v.shareImg = shareImg;\r\n      }\r\n      if (isreload) this.list = data;\r\n      else this.list.push(...data);\r\n    },\r\n    gotoDetail(id) {\r\n      this.$router.push({\r\n        path: \"/home/shardDetail\",\r\n        query: {\r\n          id\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.my-collection-wrap {\r\n  .list-item {\r\n    padding: 20px 20px 5px;\r\n    margin-bottom: 12px;\r\n    background: #ffffff;\r\n    .header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .info {\r\n        display: flex;\r\n        justify-content: flex-start;\r\n        .userava {\r\n          width: 40px;\r\n          height: 40px;\r\n          border-radius: 50%;\r\n        }\r\n        .titles {\r\n          padding-left: 15px;\r\n          .username {\r\n            font-size: 14px;\r\n          }\r\n          .time {\r\n            font-size: 14px;\r\n            color: #bababa;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .content {\r\n      .shareContent {\r\n        font-size: 14px;\r\n      }\r\n      .imgs {\r\n        display: -webkit-box;\r\n        justify-content: flex-start;\r\n        white-space: nowrap;\r\n        width: 100%;\r\n        padding: 5px;\r\n        box-sizing: border-box;\r\n        overflow-y: hidden;\r\n        overflow-x: auto;\r\n        .pic_item {\r\n          display: inline-block;\r\n          width: 320px;\r\n          height: 100px;\r\n          overflow: hidden;\r\n          &.pic1 {\r\n            width: 100%;\r\n            height: 100px;\r\n            border-radius: 20px;\r\n          }\r\n          &.pic3 {\r\n            width: 170px;\r\n            height: 100px;\r\n            margin-right: 10px;\r\n            border-radius: 8px;\r\n          }\r\n          .pic {\r\n            width: 100%;\r\n            border-radius: 10px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .footer {\r\n      display: flex;\r\n      justify-content: space-around;\r\n      .iconfont {\r\n        color: #878787;\r\n        vertical-align: middle;\r\n        font-size: 24px;\r\n        margin-right: 8px;\r\n      }\r\n      .count {\r\n        color: #878787;\r\n        font-size: 12px;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/self/child/my-dynamic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-collection-wrap paddingTopNav\"},[_c('van-nav-bar',{staticClass:\"topNavBar\",attrs:{\"title\":\"动态\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_vm._v(\" \"),_c('van-pull-refresh',{staticClass:\"refreshBox\",on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"list-item\",on:{\"click\":function($event){return _vm.gotoDetail(item.id)}}},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"info\"},[_c('img',{staticClass:\"userava\",attrs:{\"src\":item.shareUserAvatar}}),_vm._v(\" \"),_c('div',{staticClass:\"titles\"},[_c('p',{staticClass:\"username\"},[_vm._v(_vm._s(item.shareUserName))]),_vm._v(\" \"),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(item.createTime))])])]),_vm._v(\" \"),_c('div',{staticClass:\"opt\",on:{\"click\":function($event){$event.stopPropagation();return _vm.caozuo(item.id, index)}}},[_c('span',{staticClass:\"iconfont icon-caozuo\"})])]),_vm._v(\" \"),(item.shareImg && item.shareImg.length)?_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"imgs\"},_vm._l((item.shareImg),function(picItem,indx){return _c('div',{key:indx,class:['pic_item',{pic1: item.shareImg.length == 1, pic3: item.shareImg.length >= 3}]},[_c('img',{staticClass:\"pic\",attrs:{\"mode\":\"aspectFill\",\"src\":picItem},on:{\"click\":function($event){$event.stopPropagation();return _vm.previewImage(item.shareImg, indx)}}})])}),0),_vm._v(\" \"),_c('p',{staticClass:\"shareContent\"},[_vm._v(_vm._s(item.shareContent))])]):_vm._e()])}),0)],1),_vm._v(\" \"),_c('van-actionsheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":\"取消\"},on:{\"select\":_vm.onSelect},model:{value:(_vm.showActionsheetL),callback:function ($$v) {_vm.showActionsheetL=$$v},expression:\"showActionsheetL\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2b90fc2c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/self/child/my-dynamic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b90fc2c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./my-dynamic.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./my-dynamic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./my-dynamic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b90fc2c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./my-dynamic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b90fc2c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/self/child/my-dynamic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}